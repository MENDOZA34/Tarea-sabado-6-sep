<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Carritos (Procesos)</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav>
      <a href="/">Inicio/</a>
      <a href="/productos">Productos</a>
      <a href="/usuarios">Usuarios</a>
      <a href="/procesos">Carritos</a>
    </nav>
  </header>

  <h1>Carritos (Procesos)</h1>

  <main>
    <% if (!carts || !carts.length) { %>
      <p>No hay carritos para mostrar.</p>
    <% } else { %>
      <% carts.forEach(cart => { %>
        <article style="border:1px solid #ccc; margin:12px; padding:12px;">
          <h2>Carrito ID: <%= cart.id %></h2>
          <p><b>Usuario:</b> <%= cart.userId %></p>
          <% if (cart.date) { %><p><b>Fecha:</b> <%= cart.date %></p><% } %>
          <h3>Productos</h3>
          <ul>
            <% (cart.products || []).forEach(p => { %>
              <li>Producto ID: <%= p.productId %> â€” Cantidad: <%= p.quantity %></li>
            <% }) %>
          </ul>
        </article>
      <% }) %>
    <% } %>
  </main>
</body>
</html>

